---
title: "Data Cleaning"
author: "Yiling Yun"
date: "6/7/2023"
output: html_document
---

```{r}
dat <- read.delim("subj_HSvideo.txt", sep="\t")
head(dat)
dim(dat)
# sum(dat$serious)

notSeriousInd <- which(dat$serious == 0)
subjNumToDrop <- dat[notSeriousInd,]$num
subjNumToDrop

notMaxInd <- which(dat$maximized == 0)
subjNumToDrop <- c(subjNumToDrop, dat[notMaxInd,]$num)
subjNumToDrop

dat <- dat[!dat$num %in% subjNumToDrop,]
plot(dat$duration)
median(dat$duration)
```

```{r}
expt <- read.delim("newTrial_HSvideo.txt", sep=";")
head(expt)
dim(expt)
table(expt$subjNum)
table(expt$trialIndex)

clExpt <- expt[!expt$subjNum %in% subjNumToDrop,]
clExpt
dim(clExpt)
table(clExpt$subjNum)

old <- read.csv("cleanedTrial_HSvideo.csv")
dim(old)
total <- rbind(old, clExpt)
dim(total)
write.csv(total, "48subjCleanedTrial_HSvideo.csv", row.names=FALSE)
```


